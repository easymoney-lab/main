# 小程序测试指南

## 🧪 功能测试清单

### 1. 首页测试
- [ ] 页面正常加载，显示"还没有行程记录~"
- [ ] 用户切换按钮正常（"我"和"TA"）
- [ ] 点击设置按钮（⚙️）能跳转到设置页面
- [ ] 统计卡片在有数据时正常显示

### 2. 添加行程测试
- [ ] 点击"汇报"标签，页面正常跳转
- [ ] 用户身份选择器正常切换
- [ ] 时间选择器正常工作
- [ ] 地点输入框正常（必填验证）
- [ ] 内容输入框正常（可选）
- [ ] 提交按钮正常工作
- [ ] 提交成功后跳转到首页
- [ ] 新添加的行程在首页显示

### 3. 搜索功能测试
- [ ] 搜索框正常显示（有数据时）
- [ ] 输入关键词能实时过滤
- [ ] 清除按钮（✕）正常工作
- [ ] 搜索无结果时显示提示

### 4. 详情页面测试
- [ ] 点击行程卡片能跳转到详情页
- [ ] 详情页显示完整信息
- [ ] 删除按钮正常工作
- [ ] 删除确认对话框正常
- [ ] 删除后返回首页，数据已更新

### 5. 设置页面测试
- [ ] 设置页面正常加载
- [ ] 用户名输入框正常
- [ ] 保存设置按钮正常工作
- [ ] 保存后首页用户名已更新
- [ ] 统计数据正常显示
- [ ] 清空数据功能正常（谨慎测试）

### 6. 数据持久化测试
- [ ] 添加数据后，关闭小程序重新打开，数据还在
- [ ] 切换用户身份后，数据正确显示
- [ ] 修改用户名后，数据正确关联

## 🐛 常见问题排查

### 问题1：页面空白或报错
**解决方法：**
1. 查看控制台错误信息
2. 检查 `app.json` 中的页面路径是否正确
3. 确认所有文件都存在

### 问题2：数据无法保存
**解决方法：**
1. 查看控制台是否有错误
2. 检查存储空间是否已满
3. 查看 `[UTIL DEBUG]` 日志

### 问题3：搜索不工作
**解决方法：**
1. 确认有数据存在
2. 检查搜索关键词是否正确
3. 查看控制台是否有错误

### 问题4：用户名不更新
**解决方法：**
1. 确认已点击"保存设置"
2. 返回首页查看是否更新
3. 检查 `app.globalData.userNames` 是否正确

## 📊 测试数据建议

### 测试用例1：基础功能
```
用户A：
- 时间：14:30
- 地点：咖啡厅
- 内容：在喝咖啡

用户B：
- 时间：15:00
- 地点：图书馆
- 内容：在学习
```

### 测试用例2：搜索测试
```
添加多条记录，包含：
- 地点：咖啡厅、图书馆、公园、餐厅
- 内容：学习、工作、休息、吃饭

搜索关键词：
- "咖啡"
- "学习"
- "图书馆"
```

### 测试用例3：边界测试
```
- 空地点（应该提示错误）
- 超长内容（200字符限制）
- 特殊字符（emoji、标点符号）
- 快速连续添加多条记录
```

## ✅ 验收标准

小程序通过测试需要满足：

1. ✅ 所有页面正常加载
2. ✅ 数据能正常保存和读取
3. ✅ 搜索功能正常工作
4. ✅ 用户切换功能正常
5. ✅ 设置功能正常
6. ✅ 数据持久化正常
7. ✅ 没有明显的UI错误
8. ✅ 控制台没有严重错误

## 🎯 性能检查

- [ ] 页面加载速度正常（< 1秒）
- [ ] 搜索响应及时（实时过滤）
- [ ] 数据量大时（100+条）仍流畅
- [ ] 没有内存泄漏

## 📝 测试记录

测试日期：___________
测试人员：___________

| 功能模块 | 测试结果 | 备注 |
|---------|---------|------|
| 首页显示 | ☐ 通过 ☐ 失败 | |
| 添加行程 | ☐ 通过 ☐ 失败 | |
| 搜索功能 | ☐ 通过 ☐ 失败 | |
| 详情页面 | ☐ 通过 ☐ 失败 | |
| 设置页面 | ☐ 通过 ☐ 失败 | |
| 数据持久化 | ☐ 通过 ☐ 失败 | |

## 💡 测试技巧

1. **使用控制台**：打开调试器，查看 `[DEBUG]` 和 `[UTIL DEBUG]` 日志
2. **检查存储**：在调试器中查看"存储"标签，检查数据是否正确保存
3. **模拟数据**：可以在控制台手动添加测试数据
4. **清除数据**：测试前可以清空数据，确保干净的环境

