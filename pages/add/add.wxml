<!--pages/add/add.wxml-->
<view class="container">
  <view class="form-card">
    <view class="form-item">
      <text class="label">å½“å‰èº«ä»½</text>
      <view class="user-selector">
        <view class="user-option {{userIdentity === 'userA' ? 'active' : ''}}" bindtap="selectUser" data-user="userA">
          {{userNames.userA}}
        </view>
        <view class="user-option {{userIdentity === 'userB' ? 'active' : ''}}" bindtap="selectUser" data-user="userB">
          {{userNames.userB}}
        </view>
      </view>
    </view>

    <view class="form-item">
      <text class="label">æ—¶é—´</text>
      <picker mode="time" value="{{time}}" bindchange="timeChange">
        <view class="picker">
          {{time || 'é€‰æ‹©æ—¶é—´'}}
        </view>
      </picker>
    </view>

    <view class="form-item">
      <text class="label">åœ°ç‚¹</text>
      <view class="location-input-wrapper">
        <input class="input location-input" placeholder="è¾“å…¥åœ°ç‚¹æˆ–ç‚¹å‡»å®šä½" value="{{location}}" bindinput="locationInput" />
        <button class="location-btn" bindtap="chooseLocation">
          <text class="location-icon">ğŸ“</text>
          <text class="location-text">{{locationLoading ? 'å®šä½ä¸­...' : 'å®šä½'}}</text>
        </button>
      </view>
    </view>

    <view class="form-item">
      <text class="label">å†…å®¹</text>
      <textarea class="textarea" placeholder="æè¿°ä¸€ä¸‹ä½ åœ¨åšä»€ä¹ˆ..." value="{{content}}" bindinput="contentInput" maxlength="200" />
      <text class="char-count">{{content.length}}/200</text>
    </view>

    <button class="submit-btn" bindtap="submitTrip">æäº¤è¡Œç¨‹</button>
  </view>
</view>

